<!DOCTYPE html>
<html lang="en">
<head>
<title>教师信息管理系统</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="../css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
<link rel="stylesheet" href="../css/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="../css/uniform.css" />
<link rel="stylesheet" href="../css/select2.css" />
<link rel="stylesheet" href="../css/matrix-style2.css" />
<link rel="stylesheet" href="../css/matrix-media.css" />
<link href="../font-awesome/css/font-awesome.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'>
  <link href="../css/bootstrap-responsive.min.css" rel="stylesheet">

</head>
<body>

<div id="content">
  <div id="content-header">
      <h1>专业教师基本情况</h1>
  </div>

  <div class="container-fluid">
    <div>
      <form class="form-horizontal" style="display: inline-block; ">
        <div class="control-group" style="display: inline-block;">
          <span class="control-label">姓名：</span>
          <div class="controls">
            <input id="name" type="text" placeholder="Company name" />
          </div>
        </div>
        <div class="control-group" style="display: inline-block; ">
          <span class="control-label">身份证号：</span>
          <div class="controls">
            <input id="cert_num" type="text" placeholder="Company name" />
          </div>
        </div>
        <div class="control-group" style="display: inline-block; ">
          <span class="control-label">参加工作时间：</span>
          <div class="controls">
            <input id="startTime" type="date" />-至-
            <input id="endTime" type="date" />
          </div>
        </div>
      </form>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button id="su" class="btn btn-warning" style="display: inline-block; ">搜索</button>
    </div>
    <hr>
    <div class="row-fluid">
      <div class="span12">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon">
            </span>
            <h5>专业教师基本情况</h5>
          </div>
          <div class="widget-content nopadding">

            <table id="t1"  style="text-align: center">
              <thead>
                <tr >
                  <th rowspan="2" >姓名</th>
                  <th rowspan="2" >证件类型</th>
                  <th rowspan="2">证件号码</th>
                  <th rowspan="2">性别</th>
                  <th rowspan="2">出生年月</th>

                  <th rowspan="2">专业技术职务</th>
                  <th colspan="4">本科学历</th>
                  <th colspan="4">硕士学历</th>
                  <th rowspan="2">参加工作时间</th>

                  <th rowspan="2">任教时间</th>
                  <th rowspan="2">到本专业任教时间</th>
                  <th rowspan="2">是否有行业经历</th>
                  <th rowspan="2">中青年教师实践教学能力培训</th>
                  <th rowspan="2">研究生导师</th>
                  <th rowspan="2">操作</th>
                </tr>
                <tr>
                  <th>学位</th>
                  <th>所学专业</th>
                  <th>取得学位时间</th>
                  <th>毕业学校</th>
                  <th>学位</th>
                  <th>所学专业</th>
                  <th>取得学位时间</th>
                  <th>毕业学校</th>
                </tr>
              </thead>
              <tbody id="tbody">

              </tbody>
            </table>
        <div class="pagination" style="margin-left: 70%">
          <ul>
            <li><a id="first">第一页</a></li>
            <li><a id="previous">上一页</a></li>
            <li class="active"><a pageNum="1">1</a> </li>
            <li><a pageNum="2">2</a></li>
            <li><a pageNum="3">3</a></li>
            <li><a pageNum="4">4</a></li>
            <li><a pageNum="5">5</a></li>
            <li><a id="next">下一页</a></li>
            <li><a id="last">最后一页</a></li>

            <li><a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              共有<span>5</span>条记录
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></li>
          </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 全局js -->
<script src="../js/jquery.min.js?v=2.1.4"></script>
<script src="../js/bootstrap.min.js?v=3.3.6"></script>

<!-- Bootstrap table -->
<script src="../js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
<script src="../js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
<script src="../js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>

<!--导出插件-->
<script src="../js/plugins/bootstrap-table/locale/tableExport.js"></script>
<script src="../js/plugins/bootstrap-table/bootstrap-table-export.js"></script>

<script type="text/javascript">
  $(function () {

    queryPage(1);
    $('#t1').bootstrapTable({
      striped: true,	//有条纹
      pagination: false,	//页码信息
      search: false,		//搜索
      showColumns: true,	//列隐藏
      showRefresh: false,	//刷新
      showExport: true,	//导出
      exportTypes: ['excel','txt','xml'],		//导出格式
    })
    $("#su").click(function () {
      queryPage(1);
    })
  })

  //表格填充函数
  function queryPage(pageNum){
    var name=$("#name").val();
    var cert_num=$("#cert_num").val();
    var startTime=$("#startTime").val();
    var endTime=$("#endTime").val();
    //当前页码
    pageNum= pageNum==undefined?1:pageNum;
    //页码的有效性判断
    $.get("/basicInfo/findAllUsers",{name:name,certNum:cert_num,startTime:startTime,endTime:endTime,page:pageNum,limit:5},function(result){
      console.log(result.datas)
      //填充数据到tbody
      $("#tbody").empty();//清除之前的内容
      $(result.datas.data).each(function(index,basicInfo){
        $("#tbody").append(
                " <tr>"+
                "<td>"+basicInfo.name+"</td>"+
                "<td >"+basicInfo.certType+"</td>"+
                "<td >"+basicInfo.certNum+"</td>"+
                "<td>"+basicInfo.sex+"</td>"+
                "<td >"+basicInfo.birthday+"</td>"+
                "<td >"+basicInfo.skillJob+"</td>"+

                "<td>"+basicInfo.educations[0].degree+"</td>"+
                "<td>"+basicInfo.educations[0].major+"</td>"+
                "<td>"+basicInfo.educations[0].studyingTime+"-"+basicInfo.educations[0].graduaTime+"</td>"+
                "<td>"+basicInfo.educations[0].school+"</td>"+

                "<td>"+basicInfo.educations[1].degree+"</td>"+
                "<td>"+basicInfo.educations[1].major+"</td>"+
                "<td>"+basicInfo.educations[1].studyingTime+"-"+basicInfo.educations[0].graduaTime+"</td>"+
                "<td>"+basicInfo.educations[1].school+"</td>"+

                "<td>"+basicInfo.work.workTime+"</td>"+
                "<td>"+basicInfo.work.teachTime+"</td>"+
                "<td>"+basicInfo.work.atTime+"</td>"+
                "<td>"+basicInfo.work.isWork+"</td>"+
                "<td>"+basicInfo.work.train+"</td>"+
                "<td>"+basicInfo.work.supervisor+"</td>"+
                "<td>"+
                "<a href='#' id='remove' class='icon-remove' eid="+basicInfo.cuId+" >删除</a></td>"+
                "</tr>"
        );
      })

    },"json");
  }
</script>

</body>
</html>
